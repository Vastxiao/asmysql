# 文档翻译功能 AI 提示词

## 功能描述

将源语言文档（如中文）翻译成目标语言文档（如英文），同时完全保持源文档的格式、结构和布局。

### 支持的文档命名形式

本功能支持两种文档组织方式：

1. **后缀形式**：使用文件名后缀区分语言
   - 源文档：`README_zh.md`（中文）
   - 目标文档：`README.md`（英文）
   - 或：`readme_zh.md` → `readme.md`

2. **目录形式**：使用目录区分语言
   - 源文档：`zh-cn/README.md`（中文）
   - 目标文档：`en-us/README.md`（英文）
   - 或：`zh-cn/readme.md` → `en-us/readme.md`

## 核心要求

### 1. 格式完全一致
- **空行位置**：源文档中的每个空行必须在目标文档的相同位置保留
- **空格**：代码块、注释、文本中的空格必须完全一致
- **缩进**：代码块的缩进必须完全一致
- **换行**：每行的换行位置必须完全一致
- **行数**：目标文档的总行数应与源文档完全一致（或尽可能接近）

### 2. 结构完全一致
- **标题层级**：保持相同的 Markdown 标题层级（#、##、### 等）
- **代码块**：代码块的开始和结束位置、语言标识符必须一致
- **列表格式**：有序列表、无序列表的格式必须一致
- **粗体/斜体**：Markdown 格式标记必须一致
- **链接格式**：链接的格式必须一致

### 3. 内容翻译
- **只翻译文本内容**：将源语言的文本翻译成目标语言
- **代码不翻译**：代码块中的代码、注释、字符串内容保持不变
- **URL 不翻译**：链接地址、URL 保持不变
- **技术术语**：保持技术术语的准确性，必要时保留原文或使用标准翻译

### 4. 逐行对照
- 必须逐行对比源文档和目标文档
- 确保每一行的格式、空行、空格都完全匹配
- 只有文本内容被翻译，其他所有格式元素保持不变

## 工作流程

1. **读取源文档和目标文档**
   - 完整读取源语言文档（如 `README_zh.md` 或 `zh-cn/README.md`）
   - 完整读取目标语言文档（如 `README.md` 或 `en-us/README.md`）
   - 根据文档路径自动识别文档命名形式（后缀形式或目录形式）

2. **逐行对比分析**
   - 识别源文档的每一行格式
   - 识别需要翻译的文本内容
   - 识别需要保持不变的代码、URL、格式标记

3. **翻译并保持格式**
   - 翻译文本内容
   - 保持所有格式元素（空行、空格、缩进、换行）
   - 保持代码块、链接、技术术语不变

4. **验证一致性**
   - 检查总行数是否一致
   - 检查空行位置是否一致
   - 检查代码块格式是否一致
   - 检查标题层级是否一致

## 示例场景

### 场景 1：README 文档翻译（后缀形式）
- 源文档：`README_zh.md`（中文）
- 目标文档：`README.md`（英文）
- 要求：完全对照中文文档的格式翻译成英文

### 场景 2：README 文档翻译（目录形式）
- 源文档：`zh-cn/README.md`（中文）
- 目标文档：`en-us/README.md`（英文）
- 要求：完全对照中文文档的格式翻译成英文

### 场景 3：CHANGELOG 文档翻译（后缀形式）
- 源文档：`CHANGELOG_zh.md`（中文）
- 目标文档：`CHANGELOG.md`（英文）
- 要求：保持版本号、日期、代码示例等格式完全一致

### 场景 4：CHANGELOG 文档翻译（目录形式）
- 源文档：`zh-cn/CHANGELOG.md`（中文）
- 目标文档：`en-us/CHANGELOG.md`（英文）
- 要求：保持版本号、日期、代码示例等格式完全一致

### 场景 5：API 文档翻译（后缀形式）
- 源文档：`docs/api_zh.md`（中文）
- 目标文档：`docs/api.md`（英文）
- 要求：保持函数签名、参数说明、代码示例格式一致

### 场景 6：API 文档翻译（目录形式）
- 源文档：`docs/zh-cn/api.md`（中文）
- 目标文档：`docs/en-us/api.md`（英文）
- 要求：保持函数签名、参数说明、代码示例格式一致

## 注意事项

1. **不要删除或添加空行**：即使看起来多余，也要保持源文档的空行结构
2. **不要修改代码**：代码块中的任何内容都不应该被翻译或修改
3. **不要改变格式标记**：Markdown 语法标记（如 `**`、`#`、`` ` ``）必须保持原样
4. **保持技术术语准确性**：使用标准的技术术语翻译，必要时查阅相关文档
5. **验证最终结果**：翻译完成后，对比源文档和目标文档的行数和格式

## 提示词模板

```
请根据源语言文档（@源文档路径）翻译成目标语言文档（@目标文档路径）。

要求：
1. 完全对照源文档的格式，包括空行、空格、缩进等，一字不差每行都修改过来
2. 只翻译文本内容，代码块、URL、技术术语保持不变
3. 保持文档结构、标题层级、代码块格式完全一致
4. 确保目标文档的总行数和格式与源文档完全匹配

请逐行对比并翻译。
```

## 使用示例

### 示例 1：后缀形式

```
请根据中文文档 @README_zh.md 翻译成英文文档，写入 @README.md。

要求：完全对照中文文档来，包括空行、空格等，一字不差每行都修改过来。
```

### 示例 2：目录形式

```
请根据中文文档 @zh-cn/README.md 翻译成英文文档，写入 @en-us/README.md。

要求：完全对照中文文档来，包括空行、空格等，一字不差每行都修改过来。
```

### 示例 3：混合路径（目录形式）

```
请根据中文文档 @docs/v2/zh-cn/README.md 翻译成英文文档，写入 @docs/v2/en-us/README.md。

要求：完全对照中文文档来，包括空行、空格等，一字不差每行都修改过来。
```

